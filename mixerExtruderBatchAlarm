#Aviso de información antes de concluir orden de dosificacion en Mixer
if  newValue.value == 1:
	ipCli = system.tag.readBlocking(["[System]Client/Network/IPAddress"])[0].value
	warnMixBachExtL1= system.tag.readBlocking(["extrusion/productionLine1/mixerContingency/warningMixerDsg"])[0].value
	warnMixBachExtL2= system.tag.readBlocking(["extrusion/productionLine2/mixerContingency/warningMixerDsg"])[0].value

	if ipCli == "10.59.108.104":
		#Monitor en el que se encuentran las ventanas requeridas
		extruderL1Desktop = system.tag.readBlocking(["[Client]general/extruderL1MixerMonitor"])[0].value
		extruderL2Desktop = system.tag.readBlocking(["[Client]general/extruderL2MixerMonitor"])[0].value
		invokeDesktop = "primary"
		#Desktop en el que se va a abrir el popup, por prioridad
		if extruderL1Desktop == "primary" or extruderL1Desktop == "Monitor 2" or extruderL1Desktop == "Monitor 3" or extruderL1Desktop == "Monitor 4":
			invokeDesktop = extruderL1Desktop
			if warnMixBachExtL1==1:
			#Apertura de popup
				message = u"<html><center>Atención! Proximo batch a finalizar secuencia de Dosificacion y <br> Transferencia de Liquidos en Mixer L1"
				window = system.nav.desktop(invokeDesktop).openWindowInstance('common/puMessageAlertEmDsgMixerExtruder', {'message' : message})
				system.nav.desktop(invokeDesktop).centerWindow(window)
		elif extruderL2Desktop == "primary" or extruderL2Desktop == "Monitor 2" or extruderL2Desktop == "Monitor 3" or extruderL2Desktop == "Monitor 4":
			invokeDesktop = extruderL2Desktop
			if warnMixBachExtL2==1:
			#Apertura de popup
				message = u"<html><center>Atención! Proximo batch a finalizar secuencia de Dosificacion y <br> Transferencia de Liquidos en Mixer L2"
				window = system.nav.desktop(invokeDesktop).openWindowInstance('common/puMessageAlertEmDsgMixerExtruder', {'message' : message})
				system.nav.desktop(invokeDesktop).centerWindow(window)
			
			
