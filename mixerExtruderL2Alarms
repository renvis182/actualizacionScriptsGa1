#Alarma por nivel bajo en tanque Mixer de extrusoras L1
if  newValue.value == 1:
	ipCli = system.tag.readBlocking(["[System]Client/Network/IPAddress"])[0].value
	warnLowLevelL2 = system.tag.readBlocking(["extrusion/productionLine2/mixerContingency/warningMixerLowLevel"])[0].value
	
	warnMixerExt03Mod2 = system.tag.readBlocking(["extrusion/productionLine2/mixerContingency/warnMixerExt03FlowMod2"])[0].value
	warnMixerExt03Mod3 = system.tag.readBlocking(["extrusion/productionLine2/mixerContingency/warnMixerExt03FlowMod3"])[0].value
	warnMixerExt04Mod2 = system.tag.readBlocking(["extrusion/productionLine2/mixerContingency/warnMixerExt04FlowMod2"])[0].value
	warnMixerExt04Mod3 = system.tag.readBlocking(["extrusion/productionLine2/mixerContingency/warnMixerExt04FlowMod3"])[0].value
	

	if ipCli == "10.59.108.104" :
		#Monitor en el que se encuentran las ventanas requeridas
		extruderL2Desktop = system.tag.readBlocking(["[Client]general/extruderL2MixerMonitor"])[0].value
		
		invokeDesktop = "primary"
		
		#Desktop en el que se va a abrir el popup, por prioridad
		if extruderL2Desktop == "primary" or extruderL1Desktop == "Monitor 2" or extruderL1Desktop == "Monitor 3" or extruderL1Desktop == "Monitor 4":
			invokeDesktop = extruderL1Desktop
		#Apertura de popup
			if warnLowLevelL2 == 1:
				message01 = u"<html><center>Atención! Nivel Bajo en Tanque Mixer HW09"
				window = system.nav.desktop(invokeDesktop).openWindowInstance('common/puMessageAlertLowLevelMixer', {'message' : message01})
				system.nav.desktop(invokeDesktop).centerWindow(window)
			elif warnMixerExt03Mod2 == 1:
				message02 = u"<html><center>Atención! Flujo de Mixer en Extrusora 3 está fuera de Rango en Operación MOD2"
				window = system.nav.desktop(invokeDesktop).openWindowInstance('common/puMessageAlertLowLevelMixer', {'message' : message02})
				system.nav.desktop(invokeDesktop).centerWindow(window)
			elif warnMixerExt03Mod3 == 1:
				message03 = u"<html><center>Atención! Flujo de Mixer en Extrusora 3 está fuera de Rango en Operación MOD3"
				window = system.nav.desktop(invokeDesktop).openWindowInstance('common/puMessageAlertLowLevelMixer', {'message' : message03})
				system.nav.desktop(invokeDesktop).centerWindow(window)
			elif warnMixerExt04Mod2 == 1:
				message04 = u"<html><center>Atención! Flujo de Mixer en Extrusora 4 está fuera de Rango en Operación MOD2"
				window = system.nav.desktop(invokeDesktop).openWindowInstance('common/puMessageAlertLowLevelMixer', {'message' : message04})
				system.nav.desktop(invokeDesktop).centerWindow(window)
			elif warnMixerExt04Mod3 == 1:
				message05 = u"<html><center>Atención! Flujo de Mixer en Extrusora 4 está fuera de Rango en Operación MOD3"
				window = system.nav.desktop(invokeDesktop).openWindowInstance('common/puMessageAlertLowLevelMixer', {'message' : message05})
				system.nav.desktop(invokeDesktop).centerWindow(window)
